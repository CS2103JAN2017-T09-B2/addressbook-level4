# A0139926R
###### \java\guitests\RedoCommandTest.java
``` java
public class RedoCommandTest extends AddressBookGuiTest {

    private static final String CLEAR_COMMAND = "clear";
    private static final String UNDO_COMMAND = "undo";
    private static final String REDO_COMMAND = "redo";
    private static final String REDO_SHORT_COMMAND = "r";
    @Test
    public void redo_clear_success() {
        TestTask[] expectedTaskList = {};

        commandBox.runCommand(CLEAR_COMMAND);
        commandBox.runCommand(UNDO_COMMAND);
        assertRedoSuccess(expectedTaskList);

        commandBox.runCommand(UNDO_COMMAND);

        commandBox.runCommand(CLEAR_COMMAND);
        commandBox.runCommand(UNDO_COMMAND);
        assertRedoShortCommandSuccess(expectedTaskList);
    }
    @Test
    public void redo_fail() {
        commandBox.runCommand(REDO_COMMAND);
        assertResultMessage(RedoCommand.MESSAGE_FAILURE);

        commandBox.runCommand(REDO_SHORT_COMMAND);
        assertResultMessage(RedoCommand.MESSAGE_FAILURE);
    }
    private void assertRedoSuccess(TestTask[] expectedList) {
        commandBox.runCommand(REDO_COMMAND);
        assertResultMessage(RedoCommand.MESSAGE_SUCCESS);
        assertTrue(personListPanel.isListMatching(expectedList));
    }
    private void assertRedoShortCommandSuccess(TestTask[] expectedList) {
        commandBox.runCommand(REDO_SHORT_COMMAND);
        assertResultMessage(RedoCommand.MESSAGE_SUCCESS);
        assertTrue(personListPanel.isListMatching(expectedList));
    }
}
```
###### \java\guitests\RemoveDeadlineCommandTest.java
``` java
public class RemoveDeadlineCommandTest extends AddressBookGuiTest {

    private static final String REMOVEDEADLINE_COMMAND = "removedeadline";
    private static final String ADD_DEADLINE_TO_EXISTING = "edit 1 by: tmr";

    @Test
    public void removedeadline_success() throws IllegalValueException {
        int editIndex = 1;
        commandBox.runCommand(ADD_DEADLINE_TO_EXISTING);
        assertRemovedeadlineSuccess(editIndex);
    }
    @Test
    public void removedeadline_fail() {
        commandBox.runCommand(REMOVEDEADLINE_COMMAND);
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT,
                RemoveDeadlineCommand.MESSAGE_USAGE));
    }

    private void assertRemovedeadlineSuccess(int editedIndex) throws IllegalValueException {
        String emptyDate = "";
        TestTask expectedResult =
                new TaskBuilder().withName("Alice Pauline").withDate("").withEndDate("").withCompleted(false).build();
        commandBox.runCommand(REMOVEDEADLINE_COMMAND + " " + editedIndex);
        assertResultMessage(String.format(RemoveDeadlineCommand.MESSAGE_EDIT_TASK_SUCCESS, expectedResult));
        assertEquals(personListPanel.getPerson(editedIndex).getDate().value, emptyDate);
        assertEquals(personListPanel.getPerson(editedIndex).getEndDate().value, emptyDate);
    }
}
```
###### \java\guitests\UndoCommandTest.java
``` java
public class UndoCommandTest extends AddressBookGuiTest {

    private static final String ADD_COMMAND = "add test";
    private static final String EDIT_COMMAND = "edit 1 by: tmr";
    private static final String DELETE_COMMAND = "delete 1";
    private static final String CLEAR_COMMAND = "clear";
    private static final String LIST_COMMAND = "list";
    private static final String FIND_COMMAND = "find alice";
    private static final String UNDO_COMMAND = "undo";
    private static final String UNDO_SHORT_COMMAND = "u";
    @Test
    public void undo_add_success() throws IllegalValueException {
        commandBox.runCommand(ADD_COMMAND);
        assertUndoSuccess();

        commandBox.runCommand(ADD_COMMAND);
        assertUndoShortcutSuccess();
    }
    @Test
    public void undo_edit_success() throws IllegalValueException {
        commandBox.runCommand(EDIT_COMMAND);
        assertUndoSuccess();

        commandBox.runCommand(EDIT_COMMAND);
        assertUndoShortcutSuccess();
    }
    @Test
    public void undo_delete_success() {
        commandBox.runCommand(DELETE_COMMAND);
        assertUndoSuccess();

        commandBox.runCommand(DELETE_COMMAND);
        assertUndoShortcutSuccess();
    }
    @Test
    public void undo_clear_success() {
        commandBox.runCommand(CLEAR_COMMAND);
        assertUndoSuccess();

        commandBox.runCommand(CLEAR_COMMAND);
        assertUndoShortcutSuccess();
    }
    @Test
    public void undo_list_fail() {
        commandBox.runCommand(LIST_COMMAND);
        commandBox.runCommand(UNDO_COMMAND);
        assertResultMessage(UndoCommand.MESSAGE_FAILURE);

        commandBox.runCommand(LIST_COMMAND);
        commandBox.runCommand(UNDO_SHORT_COMMAND);
        assertResultMessage(UndoCommand.MESSAGE_FAILURE);
    }
    @Test
    public void undo_find_fail() {
        commandBox.runCommand(FIND_COMMAND);
        commandBox.runCommand(UNDO_COMMAND);
        assertResultMessage(UndoCommand.MESSAGE_FAILURE);

        commandBox.runCommand(FIND_COMMAND);
        commandBox.runCommand(UNDO_SHORT_COMMAND);
        assertResultMessage(UndoCommand.MESSAGE_FAILURE);
    }
    @Test
    public void undo_nothingToUndo_fail() {
        commandBox.runCommand(UNDO_COMMAND);
        assertResultMessage(UndoCommand.MESSAGE_FAILURE);

        commandBox.runCommand(UNDO_SHORT_COMMAND);
        assertResultMessage(UndoCommand.MESSAGE_FAILURE);
    }
    private void assertUndoSuccess() {
        commandBox.runCommand(UNDO_COMMAND);
        assertResultMessage(UndoCommand.MESSAGE_SUCCESS);
        assertTrue(personListPanel.isListMatching(td.getTypicalTasks()));
    }
    private void assertUndoShortcutSuccess() {
        commandBox.runCommand(UNDO_SHORT_COMMAND);
        assertResultMessage(UndoCommand.MESSAGE_SUCCESS);
        assertTrue(personListPanel.isListMatching(td.getTypicalTasks()));
    }
}
```
###### \java\typetask\logic\parser\DateParserTest.java
``` java

public class DateParserTest {

    private final String dateTimeString = "10 April 2017 4pm";
    private final String dateString = "10 April 2017";
    private final int wantedDate = 0;

    @Test
    public void parse_success() {
        String expectedResult = "Mon Apr 10 16:00:00 SGT 2017";
        List<Date> actualResult = DateParser.parse(dateTimeString);
        assertEquals(actualResult.get(wantedDate).toString(), expectedResult);
    }
    @Test
    public void resetTime_success() {
        String expectedResult = "Mon Apr 10 23:59:59 SGT 2017";
        List<Date> actualResult = DateParser.parse(dateString);
        assertEquals(actualResult.get(wantedDate).toString(), expectedResult); 
    }
    @Test(expected= AssertionError.class)
    public void parseDate_nullInput_throwsAssertionError() {
        DateParser.parse(null);
    }
    @Test(expected= AssertionError.class)
    public void parseDate_emptyInput_throwsAssertionError() {
        DateParser.parse("");
    }
    @Test
    public void parseDate_noDates_returnEmptyDateList() {
        String singleDateString = "I'm a latecomer who always goes to school on time";
        List<Date> expectedResult =  new ArrayList<>();
        List<Date> actualResult = DateParser.parse(singleDateString);
        assertArrayEquals(expectedResult.toArray(), actualResult.toArray());
    }
    @Test
    public void getDate_success() {
        String expectedResult = "Mon Apr 10 16:00:00 SGT 2017";
        List<Date> actualResult = DateParser.getDate(dateTimeString);
        assertEquals(actualResult.get(wantedDate).toString(), expectedResult);
    }
    @Test
    public void getDate_fail() {
        List<Date> actualResult = DateParser.getDate("not a date");
        assertTrue(actualResult.isEmpty());
    }
    @Test
    public void getDateString_success() {
        String actualResult = DateParser.getDateString(DateParser.getDate(dateTimeString));
        String expectedResult = "Mon Apr 10 2017 16:00:00";
        assertEquals(actualResult, expectedResult);
    }
    @Test
    public void checkValidSchedule_success() {
        List<Date> startDate = DateParser.parse("today");
        List<Date> endDate = DateParser.parse("tmr");
        assertTrue(DateParser.checkValidSchedule(startDate, endDate));
    }
    @Test
    public void checkValidSchedule_fail() {
        List<Date> startDate = DateParser.parse("tmr");
        List<Date> endDate = DateParser.parse("today");
        assertFalse(DateParser.checkValidSchedule(startDate, endDate));
    }
    @Test
    public void checkValidDateFormat_success() {
        List<Date> validDate = DateParser.parse(dateTimeString);
        assertTrue(DateParser.checkValidDateFormat(validDate));
    }
    @Test
    public void checkValidDateFormat_fail() {
        List<Date> invalidDate = DateParser.parse("Not a date");
        assertFalse(DateParser.checkValidDateFormat(invalidDate));
    }
    @Test
    public void checkValidEventDate_success() {
        Date startDate = DateParser.parse("today").get(wantedDate);
        Date endDate = DateParser.parse("tmr").get(wantedDate);
        assertTrue(DateParser.checkValidEventDate(startDate, endDate));
    }
    @Test
    public void checkValidEventDate_fail() {
        Date startDate = DateParser.parse("tmr").get(wantedDate);
        Date endDate = DateParser.parse("today").get(wantedDate);
        assertFalse(DateParser.checkValidEventDate(startDate, endDate));
    }
}
```
